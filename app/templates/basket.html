{% extends 'base.html' %}

{% block content %}

<div class="text-center mb-3">
    <img src="{{ url_for('static', filename='images/basket.png') }}"
         alt="Shopping Basket"
         class="basket-icon">
</div>

<h1>Your Shopping Basket</h1>

{% if basket is defined and basket.items %}
    <ul>
    {% for item in basket.items %}
        <li>
            {{ item.name }} — Quantity: {{ item.quantity }} — Price: {{ item.price }} — Total: {{ item.total }}
            <form action="{{ url_for('main.remove_from_basket', item_id=item.id) }}" method="post" style="display:inline">
                <button type="submit" class="btn btn-link btn-sm">Remove</button>
            </form>
        </li>
    {% endfor %}
    </ul>

    <p><strong>Total:</strong> {{ basket.total_price }}</p>

    <form action="#" method="post">
        <button type="button" class="btn btn-primary">Proceed to Checkout</button>
    </form>
{% else %}
    <p>Your basket is empty.</p>
{% endif %}

{% endblock %}
