{% extends "base.html" %}
{% block title %}Green Products{% endblock %}

{% block content %}
<h1>Green Products</h1>

<ul class="category-tabs">
    <li onclick="showContent('solar')">Solar Panels</li>
    <li onclick="showContent('ev')">EV Chargers</li>
    <li onclick="showContent('appliances')">Smart Home Appliances</li>
</ul>

<!-- Solar Products -->
<div id="solar" class="content_dis product-grid">
    {% for product in solar_products %}
    <div class="product-card">
        <img src="{{ url_for('static', filename='images/' + product.image_filename) }}" alt="{{ product.name }}">
        <h3>{{ product.name }}</h3>
        <p>{{ product.description }}</p>
        <p class="price">£{{ product.price }}</p>
        <a class="btn btn-success" href="{{ url_for('main.add_to_basket', product_id=product.id) }}">Add to Basket</a>
    </div>
    {% endfor %}
</div>

<!-- EV Products -->
<div id="ev" class="content_dis product-grid">
    {% for product in ev_products %}
    <div class="product-card">
        <img src="{{ url_for('static', filename='images/' + product.image_filename) }}" alt="{{ product.name }}">
        <h3>{{ product.name }}</h3>
        <p>{{ product.description }}</p>
        <p class="price">£{{ product.price }}</p>
        <a class="btn btn-success" href="{{ url_for('main.add_to_basket', product_id=product.id) }}">Add to Basket</a>
    </div>
    {% endfor %}
</div>

<!-- Appliances Products -->
<div id="appliances" class="content_dis product-grid">
    {% for product in appliance_products %}
    <div class="product-card">
        <img src="{{ url_for('static', filename='images/' + product.image_filename) }}" alt="{{ product.name }}">
        <h3>{{ product.name }}</h3>
        <p>{{ product.description }}</p>
        <p class="price">£{{ product.price }}</p>
        <a class="btn btn-success" href="{{ url_for('main.add_to_basket', product_id=product.id) }}">Add to Basket</a>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block scripts %}
<script>
window.showContent = function(id) {
    document.querySelectorAll('.content_dis').forEach(div => div.style.display = 'none');
    const selected = document.getElementById(id);
    if (selected) selected.style.display = 'grid'; // use grid for layout
}

// Show default category on page load (e.g., solar)
document.addEventListener("DOMContentLoaded", function() {
    window.showContent('solar'); // or 'ev' or 'appliances'
});
</script>
{% endblock %}